<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: fixture-helper.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: fixture-helper.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>const fs = require('fs');
const callsites = require('callsites');
/**
* This funcation takes in the path of the test file and the suffix of the file type.
* It then replaces either the integration or unit part of the file path with fixtures/suffix.
*/
function fixturePath(path, extension, fixtureLocation) {
  var split_path = path.split('/');
  split_path.splice(-1, 1);
    var index = split_path.indexOf('helpers');
    split_path[index] = 'fixtures/' + extension + '/' + fixtureLocation;
  return split_path.join('/');
}
/**
* This function takes the file path from the test file and the suffix of the desired file type, and then passes it into the htmlFixturePath method along with the file name parameter and an html suffix.
* It returns the path to the fixture file which can then be used in the assert statement of the test.
*/
module.exports = {
  getFixture: function(file_name, extension, fixtureLocation){
    var file_path = fixturePath(callsites()[1].getFileName(), extension, fixtureLocation) + '/' + file_name + '.' + extension;
    if (extension == 'json') {
      return JSON.parse(fs.readFileSync(file_path, 'utf8'));
    } else {
      return fs.readFileSync(file_path, 'utf8');
    }
  }
}
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#fixturePath">fixturePath</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> on Thu Jun 21 2018 16:10:38 GMT+0100 (BST)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
